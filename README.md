# Library Mobile API

<p align="center">
  <img src="docs/images/preview.png" alt="–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å API Dashboard" width="750">
</p>
<p align="center">
  <i>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è API: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞.</i>
</p>

## üöÄ –û –ø—Ä–æ–µ–∫—Ç–µ

**Library Mobile API** ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤ –ø–æ—Ä—è–¥–æ–∫ —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥.

–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –º–∏—Ä–µ –∫–∞–∫ –Ω–∏–∫–æ–≥–¥–∞ –ø–æ–ª–µ–∑–Ω–æ –Ω–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–∏—Å–∫–∞ –∏ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞. –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º.

**–ß—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç:**
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é —Ü–∏—Ñ—Ä–æ–≤—É—é –ø–æ–ª–∫—É(–∏–ª–∏ –¥–∞–∂–µ —à–∫–∞—Ñ): –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã (`.txt`) –∏–ª–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–Ω–∏–≥–∏ –∏–∑ –ø–æ–∏—Å–∫–∞ **Google Books**. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–µ–∑–Ω–∞—è —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è ‚Äî –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –¥—Ä—É–≥—É, —á—Ç–æ–±—ã –æ–Ω —É–≤–∏–¥–µ–ª –≤–∞—à–∏ –∫–Ω–∏–≥–∏.


## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **MVC (Model-View-Controller)** –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç—è–∂–µ–ª—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤. –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ —Å–ª–æ–∏:

* **Controller (`api.php`)** ‚Äî –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ JSON-–æ—Ç–≤–µ—Ç–æ–≤.
* **Service Layer (`Service.php`)** ‚Äî –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (ACL).
* **Database Layer (`db.php`)** ‚Äî –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —á–µ—Ä–µ–∑ PDO Singleton.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **Language:** PHP 8.2+
* **Database:** MySQL 8.0
* **API:** REST JSON
* **Security:** Bearer Token Authentication, Prepared Statements (PDO)
* **Integrations:** Google Books API
* **Testing:** Manual API Testing via Dashboard

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

* –í–µ–±-—Å–µ—Ä–≤–µ—Ä (Apache/Nginx) ‚Äî *—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Open Server Panel*
* PHP 8.1 –∏–ª–∏ –≤—ã—à–µ
* MySQL 8.0

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1.  **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
    ```bash
    git clone https://github.com/KonstantinFedorovich/library-system.git
    cd library-api
    ```

2.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
    * –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `library_db` –≤ phpMyAdmin –∏–ª–∏ –∫–æ–Ω—Å–æ–ª–∏.
    * –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `database.sql` (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü).
    * –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª–µ `public/db.php`:
        ```php
        $host = 'localhost';
        $db   = 'library_db';
        $user = 'root';
        $pass = '';
        ```

3.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞**
    * –£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É —Å–µ—Ä–≤–µ—Ä–∞: `/public`.
    * –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `.htaccess` (–¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ Authorization).

4.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã**
    * –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://library.local/test_api.html`
    * –≠—Ç–æ –ø–∞–Ω–µ–ª—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API, —ç–º—É–ª–∏—Ä—É—é—â–∞—è —Ä–∞–±–æ—Ç—É –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ API

### üîê Auth Service
* **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ä–æ–ª—è (`password_hash`).
* **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –í—ã–¥–∞—á–∞ `Bearer Token` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º –º–µ—Ç–æ–¥–∞–º.

### üìö Library Service
* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏:** CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (–°–æ–∑–¥–∞–Ω–∏–µ, –ß—Ç–µ–Ω–∏–µ, –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –£–¥–∞–ª–µ–Ω–∏–µ).
* **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å –∫–Ω–∏–≥—É, –∑–∞–≥—Ä—É–∑–∏–≤ `.txt` —Ñ–∞–π–ª. –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ –ª–µ—Ç—É.
* **Soft Delete:** –ö–Ω–∏–≥–∏ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏, –∞ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—ã–µ (–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è).

### üåç Search & Integrations
* **Google Books:** –ü–æ–∏—Å–∫ –∫–Ω–∏–≥ –≤–æ –≤–Ω–µ—à–Ω–µ–π –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–∞–∑–µ Google.
* **–ò–º–ø–æ—Ä—Ç:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –∫–Ω–∏–≥–∏ –≤ —Å–≤–æ—é –ª–æ–∫–∞–ª—å–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤ –æ–¥–∏–Ω –∫–ª–∏–∫.

### ü§ù Social & Access Control (RBAC)
* **–®–µ—Ä–∏–Ω–≥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –¥–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–∏–º –∫–Ω–∏–≥–∞–º –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ ID.
* **–ü—Ä–æ—Å–º–æ—Ç—Ä —á—É–∂–∏—Ö –∫–Ω–∏–≥:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `access_rights`.

## üîó API Documentation

–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API:

| –ú–µ—Ç–æ–¥ | –ü–∞—Ä–∞–º–µ—Ç—Ä (Query) | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| `POST` | `?method=register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (JSON body: login, password) |
| `POST` | `?method=login` | –í—Ö–æ–¥ (JSON body: login, password) |
| `POST` | `?method=create_book` | –°–æ–∑–¥–∞—Ç—å –∫–Ω–∏–≥—É (Multipart Form: title, text/file) |
| `GET` | `?method=get_books` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–∏—Ö –∫–Ω–∏–≥ |
| `GET` | `?method=search_external` | –ü–æ–∏—Å–∫ –≤ Google  |
| `POST` | `?method=grant_access` | –î–∞—Ç—å –¥–æ—Å—Ç—É–ø –¥—Ä—É–≥—É (JSON body: guest_id) |

<details>
  <summary>üì∏ –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–Ω–∏–≥ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</summary>
  <br>
  <p align="center">
    <img src="docs/images/outro.png" alt="–ü–æ–∏—Å–∫" width="750">
  </p>
</details>

## üë§ –ê–≤—Ç–æ—Ä

**Konstantin**
* Backend Developer (PHP)
* –°—Ç—É–¥–µ–Ω—Ç –£—Ä–§–£, "–ü—Ä–∏–∫–ª–∞–¥–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞"
* –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã.